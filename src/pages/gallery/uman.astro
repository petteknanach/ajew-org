---
import Layout from '../../layouts/Layout.astro';

// Helper function to format filename for display
function formatFilename(filename) {
  let formatted = decodeURIComponent(filename);
  formatted = formatted.replace(/\.(jpg|jpeg|png|gif|webp)$/i, '');
  formatted = formatted.replace(/[-_]/g, ' ');
  formatted = formatted.replace(/\b\w/g, l => l.toUpperCase());
  return formatted;
}

const images = [
  'Old hut over Rabbainu\'s tzion.jpg',
  'Rabbainus tomb white covering.jpg',
  'rabbi-nachman-tomb-temple.jpg',
  'Tzion Rabbainu before house IMG-20180325-WA0004.jpg',
  'uman-gates-tzion.jpg',
  'uman-gateway-tzion.jpg',
  'uman-high-shot-tzion.jpg',
  'uman-old-house-tzion.jpg',
  'uman-old-tzion.jpg',
  'uman-on-tzion.jpg',
  'uman-rocks.jpg',
  'uman-shmuel-tubul.jpg',
  'uman-tomb-above.jpg',
  'uman-tomb-inside.jpg',
  'uman-tzion-bima.jpg',
  'uman-tzion-blue.jpg',
  'uman-tzion-bottom-up.jpg',
  'uman-tzion-fence.jpg',
  'uman-tzion-houses.jpg',
  'uman-tzion-inside.jpg',
  'uman-tzion-shroud.jpg',
  'uman-tzion-top.jpg',
  'uman-wide-tzion.jpg',
  // New images
  'uman-chutzair.jpg',
  'uman-davening-2.jpg',
  'uman-davening.jpg',
  'uman-heichal-window.jpg',
  'uman-IMG-20110217.jpg',
  'uman-kittels.jpg',
  'uman-masses-front-tzion.jpg',
  'uman-masses.jpg',
  'uman-masses.png',
  'uman-people-gates.jpg',
];
---

<Layout title="Tomb of Rebbe Nachman in Uman" description="Photos of the holy tomb in Uman">
  <section class="page-header">
    <h1>âœ¡ Tomb in Uman âœ¡</h1>
    <p>The Holy Tzion of Rabbi Nachman of Breslov</p>
    <p class="hebrew">×¦×™×•×Ÿ ×¨×‘×™× ×• × ×—××Ÿ ××‘×¨×¡×œ×‘ ×‘××•××Ÿ</p>
    <a href="/gallery" class="back-link">â† Back to Gallery</a>
  </section>

  <section class="intro">
    <div class="container">
      <div class="info-box">
        <h2>ğŸ™ Rosh Hashanah in Uman</h2>
        <p>
          Every year, tens of thousands of Jews from around the world gather at the 
          holy tomb of Rabbi Nachman in Uman, Ukraine, to celebrate Rosh Hashanah. 
          This tradition, which began in the early 1800s, continues to grow each year.
        </p>
        <p class="hebrew">×›×œ ×©× ×” ×‘×¨××© ×”×©× ×” ××ª××¡×¤×™× ××œ×¤×™ ×™×”×•×“×™× ×‘×¦×™×•×Ÿ ×¨×‘×™× ×• × ×—××Ÿ ×‘××•××Ÿ</p>
      </div>
    </div>
  </section>

  <section class="gallery">
    <div class="container">
      <div class="gallery-grid">
        {images.map((img, index) => (
          <div class="gallery-item">
            <img src={`/images/tomb-uman/${img}`} alt={formatFilename(img)} loading="lazy" />
            <div class="overlay">
              <span>#{index + 1}</span>
            </div>
            <div class="caption">{formatFilename(img)}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="navigation">
    <div class="container">
      <div class="nav-buttons">
        <a href="/gallery/rabbainu" class="nav-btn prev">
          <span class="arrow">â†</span>
          <span class="text">Rebbe Nachman</span>
        </a>
        <a href="/gallery/nanach" class="nav-btn next">
          <span class="text">Na Nach Life</span>
          <span class="arrow">â†’</span>
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  .page-header {
    background: linear-gradient(135deg, #744210 0%, #5d3a1a 100%);
    color: white;
    padding: 5rem 2rem;
    text-align: center;
  }

  .page-header h1 {
    font-family: var(--font-hebrew);
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    opacity: 0.9;
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }

  .page-header .hebrew {
    font-family: var(--font-hebrew);
    font-size: 1.5rem;
    margin-top: 1rem;
  }

  .back-link {
    display: inline-block;
    margin-top: 1.5rem;
    color: white;
    text-decoration: none;
    padding: 0.75rem 1.5rem;
    border: 2px solid white;
    border-radius: 6px;
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .intro {
    background: #f7f5f0;
    padding: 4rem 0;
  }

  .info-box {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    text-align: center;
  }

  .info-box h2 {
    font-family: var(--font-hebrew);
    color: var(--color-primary);
    margin-bottom: 1rem;
  }

  .info-box p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #555;
    margin-bottom: 1rem;
  }

  .info-box .hebrew {
    font-family: var(--font-hebrew);
    font-size: 1.3rem;
    color: #744210;
  }

  .gallery {
    padding: 4rem 0;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }

  .gallery-item {
    position: relative;
    overflow: visible;
  }

  .gallery-item img {
    width: 100%;
    aspect-ratio: 1;
    object-fit: cover;
    border-radius: 12px;
    transition: transform 0.4s;
    display: block;
  }

  .gallery-item:hover img {
    transform: scale(1.08);
  }

  .gallery-item .overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.7));
    padding: 2rem 1rem 1rem;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .gallery-item:hover .overlay {
    opacity: 1;
  }

  .gallery-item .overlay span {
    color: white;
    font-size: 0.95rem;
  }

  .gallery-item .caption {
    padding: 0.75rem;
    background: #f8f8f8;
    font-size: 0.85rem;
    color: #555;
    text-align: center;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
    word-break: break-word;
    line-height: 1.4;
  }

  .navigation {
    background: var(--color-primary);
    padding: 3rem 0;
  }

  .nav-buttons {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
  }

  .nav-btn {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: white;
    text-decoration: none;
    padding: 1rem 1.5rem;
    background: rgba(255,255,255,0.1);
    border-radius: 8px;
  }

  .nav-btn:hover {
    background: rgba(255,255,255,0.2);
  }

  @media (max-width: 768px) {
    .nav-buttons {
      flex-direction: column;
    }
    
    .gallery-grid {
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }
  }
</style>
